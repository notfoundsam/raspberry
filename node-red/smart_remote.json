[{"id":"4d7ebdf8.2a3754","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"a54d4a26.ae4528","type":"mqtt-broker","z":"","name":"mosquitto","broker":"mosquitto","port":"1883","clientid":"node_red","usetls":false,"compatmode":true,"keepalive":"60","cleansession":false,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"f92a7551.0003e8","type":"influxdb","z":"","hostname":"influxdb","port":"8086","protocol":"http","database":"smart_remote","name":"","usetls":false,"tls":""},{"id":"c6b6c023.f4883","type":"mqtt in","z":"4d7ebdf8.2a3754","name":"weather","topic":"/weather","qos":"2","broker":"a54d4a26.ae4528","x":150,"y":100,"wires":[["f6e25327.6272b","372f33d7.c9eb9c"]]},{"id":"71fffe61.a00fa","type":"influxdb out","z":"4d7ebdf8.2a3754","influxdb":"f92a7551.0003e8","name":"weather","measurement":"weather","precision":"","retentionPolicy":"","x":560,"y":100,"wires":[]},{"id":"f6e25327.6272b","type":"json","z":"4d7ebdf8.2a3754","name":"dht22","property":"payload","action":"obj","pretty":false,"x":350,"y":100,"wires":[["3b6a6a60.36d486","71fffe61.a00fa"]]},{"id":"3b6a6a60.36d486","type":"debug","z":"4d7ebdf8.2a3754","name":"dht object","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":560,"y":160,"wires":[]},{"id":"372f33d7.c9eb9c","type":"debug","z":"4d7ebdf8.2a3754","name":"dht22 json","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":370,"y":180,"wires":[]},{"id":"91ea878f.888018","type":"mqtt in","z":"4d7ebdf8.2a3754","name":"offline","topic":"/offline","qos":"2","broker":"a54d4a26.ae4528","x":150,"y":500,"wires":[["ba35b295.fc0c"]]},{"id":"ba35b295.fc0c","type":"debug","z":"4d7ebdf8.2a3754","name":"mosquitto offline","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":380,"y":500,"wires":[]},{"id":"a676c8ef.632878","type":"mqtt in","z":"4d7ebdf8.2a3754","name":"battery","topic":"/battery","qos":"2","broker":"a54d4a26.ae4528","x":150,"y":300,"wires":[["4a8f9403.1c311c","15ea2526.290fcb"]]},{"id":"15ea2526.290fcb","type":"debug","z":"4d7ebdf8.2a3754","name":"battery json","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":370,"y":380,"wires":[]},{"id":"4a8f9403.1c311c","type":"json","z":"4d7ebdf8.2a3754","name":"battery","property":"payload","action":"obj","pretty":false,"x":350,"y":300,"wires":[["80626e45.da981","db8e28bf.af9c38"]]},{"id":"80626e45.da981","type":"influxdb out","z":"4d7ebdf8.2a3754","influxdb":"f92a7551.0003e8","name":"battery","measurement":"battery","precision":"","retentionPolicy":"","x":550,"y":300,"wires":[]},{"id":"db8e28bf.af9c38","type":"debug","z":"4d7ebdf8.2a3754","name":"battery object","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":580,"y":380,"wires":[]},{"id":"89a837a9.4816a8","type":"comment","z":"4d7ebdf8.2a3754","name":"Convert json to js object","info":"","x":360,"y":60,"wires":[]},{"id":"55ec4b0.fcebfb4","type":"comment","z":"4d7ebdf8.2a3754","name":"Convert json to js object","info":"","x":360,"y":260,"wires":[]},{"id":"88f49603.e586c8","type":"comment","z":"4d7ebdf8.2a3754","name":"If sensor is offline just write it in debug window","info":"","x":290,"y":460,"wires":[]},{"id":"23a78b39.9b8464","type":"tcp in","z":"4d7ebdf8.2a3754","name":"arduino:9090","server":"server","host":"","port":"9090","datamode":"stream","datatype":"utf8","newline":"","topic":"/weather","base64":false,"x":170,"y":600,"wires":[["9ea17c68.addc5"]]},{"id":"9ea17c68.addc5","type":"json","z":"4d7ebdf8.2a3754","name":"arduino","property":"payload","action":"obj","pretty":false,"x":360,"y":600,"wires":[["e12812d.6f807f","abe1024a.f45a1"]]},{"id":"3d0b697d.755946","type":"influxdb out","z":"4d7ebdf8.2a3754","influxdb":"f92a7551.0003e8","name":"arduino weather","measurement":"weather","precision":"","retentionPolicy":"","x":820,"y":640,"wires":[]},{"id":"e12812d.6f807f","type":"switch","z":"4d7ebdf8.2a3754","name":"if offline","property":"payload.status","propertyType":"msg","rules":[{"t":"eq","v":"offline","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":580,"y":600,"wires":[["c2406839.0cbf98"],["3d0b697d.755946"]]},{"id":"abe1024a.f45a1","type":"debug","z":"4d7ebdf8.2a3754","name":"arduino input","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":590,"y":680,"wires":[]},{"id":"c2406839.0cbf98","type":"debug","z":"4d7ebdf8.2a3754","name":"arduino offlime","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":820,"y":560,"wires":[]}]